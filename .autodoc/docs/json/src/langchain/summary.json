{
  "folderName": "langchain",
  "folderPath": ".autodoc/docs/json/src/langchain",
  "url": "https://github.com/context-labs/autodoc/.autodoc/docs/json/src/langchain",
  "files": [
    {
      "fileName": "hnswlib.ts",
      "filePath": "src/langchain/hnswlib.ts",
      "url": "https://github.com/context-labs/autodoc/src/langchain/hnswlib.ts",
      "summary": "The `HNSWLib` class in this code is an implementation of a vector store using the Hierarchical Navigable Small World (HNSW) algorithm from the `hnswlib-node` library. It extends the `SaveableVectorStore` class and provides methods for adding documents, searching for similar documents, and saving/loading the index.\n\nThe constructor takes an `Embeddings` object and an `HNSWLibArgs` object as arguments. The `Embeddings` object is used to convert text documents into numerical vectors, while the `HNSWLibArgs` object contains configuration options for the HNSW index and an optional `InMemoryDocstore` object for storing document metadata.\n\nThe `addDocuments` method takes an array of `Document` objects, converts their text content into numerical vectors using the `Embeddings` object, and adds the vectors to the HNSW index. The `addVectors` method is responsible for initializing the index, resizing it if necessary, and adding the vectors and their corresponding metadata to the `InMemoryDocstore`.\n\nThe `similaritySearchVectorWithScore` method takes a query vector and a number `k`, and returns the top `k` most similar documents in the index along with their similarity scores. It checks if the query vector has the correct dimensions and if `k` is within the valid range before performing the search.\n\nThe `save` and `load` methods allow the HNSW index and its associated metadata to be saved to and loaded from a specified directory. The `fromTexts` and `fromDocuments` static methods provide convenient ways to create an `HNSWLib` instance from an array of text strings or `Document` objects, respectively.\n\nExample usage:\n\n```javascript\nconst embeddings = new Embeddings(/* ... */);\nconst hnswLib = await HNSWLib.fromTexts(texts, metadatas, embeddings);\n\nconst queryVector = await embeddings.embedText(\"example query\");\nconst similarDocuments = await hnswLib.similaritySearchVectorWithScore(queryVector, 5);\n```\n\nIn the larger project, this class can be used to efficiently store and search for similar documents based on their embeddings, which can be useful for tasks such as document clustering, nearest neighbor search, and recommendation systems.",
      "questions": "1. **Question:** What is the purpose of the `HNSWLib` class and how does it relate to the `SaveableVectorStore` class?\n   **Answer:** The `HNSWLib` class is an implementation of a vector store using the Hierarchical Navigable Small World (HNSW) algorithm from the `hnswlib-node` library. It extends the `SaveableVectorStore` class, which provides a base class for vector stores that can be saved and loaded from disk.\n\n2. **Question:** How does the `addDocuments` method work and what is its purpose?\n   **Answer:** The `addDocuments` method takes an array of `Document` objects, extracts their `pageContent`, and embeds them into vectors using the `embedDocuments` method from the `embeddings` object. It then adds these vectors and the corresponding documents to the HNSW index and the `docstore` respectively.\n\n3. **Question:** How does the `similaritySearchVectorWithScore` method work and what does it return?\n   **Answer:** The `similaritySearchVectorWithScore` method takes a query vector and a number `k` as input. It checks if the query vector has the same length as the number of dimensions and if `k` is not greater than the number of elements in the index. It then performs a k-nearest neighbors search on the HNSW index using the query vector and returns an array of `[Document, number]` tuples, where each tuple contains a document from the `docstore` and its corresponding distance score to the query vector."
    }
  ],
  "folders": [],
  "summary": "The `hnswlib.ts` file in the `.autodoc/docs/json/src/langchain` folder contains the `HNSWLib` class, which is an implementation of a vector store using the Hierarchical Navigable Small World (HNSW) algorithm from the `hnswlib-node` library. This class is designed to efficiently store and search for similar documents based on their embeddings, making it useful for tasks such as document clustering, nearest neighbor search, and recommendation systems.\n\nThe `HNSWLib` class extends the `SaveableVectorStore` class and provides methods for adding documents, searching for similar documents, and saving/loading the index. It takes an `Embeddings` object and an `HNSWLibArgs` object as arguments in its constructor. The `Embeddings` object is responsible for converting text documents into numerical vectors, while the `HNSWLibArgs` object contains configuration options for the HNSW index and an optional `InMemoryDocstore` object for storing document metadata.\n\nThe `addDocuments` method accepts an array of `Document` objects, converts their text content into numerical vectors using the `Embeddings` object, and adds the vectors to the HNSW index. The `addVectors` method initializes the index, resizes it if necessary, and adds the vectors and their corresponding metadata to the `InMemoryDocstore`.\n\nThe `similaritySearchVectorWithScore` method takes a query vector and a number `k`, and returns the top `k` most similar documents in the index along with their similarity scores. It checks if the query vector has the correct dimensions and if `k` is within the valid range before performing the search.\n\nThe `save` and `load` methods allow the HNSW index and its associated metadata to be saved to and loaded from a specified directory. The `fromTexts` and `fromDocuments` static methods provide convenient ways to create an `HNSWLib` instance from an array of text strings or `Document` objects, respectively.\n\nHere's an example of how this code might be used:\n\n```javascript\nconst embeddings = new Embeddings(/* ... */);\nconst hnswLib = await HNSWLib.fromTexts(texts, metadatas, embeddings);\n\nconst queryVector = await embeddings.embedText(\"example query\");\nconst similarDocuments = await hnswLib.similaritySearchVectorWithScore(queryVector, 5);\n```\n\nIn the larger project, the `HNSWLib` class can be integrated with other components to build efficient and scalable systems for document similarity search, clustering, and recommendations based on text embeddings.",
  "questions": ""
}